<!DOCTYPE html><html lang="ru"><head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>Свадьба Кости и Насти</title>

	<!-- Bootstrap -->
	<link href="css/bootstrap.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<!-- <link href="js/jquery.formstyler.css" rel="stylesheet"> -->

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
<div class="header-wrp wrapper-full" id="testimonials" data-stellar-background-ratio="0.3">
	<div class="menu-wrp">
		<div class="logo">
			<div class="names">Настя+Костя</div>
		</div>
		<div class="links">
			<ul class="menu">
				<li><a href="#programm" class="toplink">Программа</a></li>
				<li><a href="#letter" class="toplink">Приглашение</a></li>
				<li><a href="#photo" class="toplink">Фото</a></li>
				<li><a href="#insta" class="toplink">Инстаграм</a></li>
				<li><a href="#mapblock" class="toplink">Как добраться</a></li>
			</ul>
		</div>
	</div>
	<div class="title-wrp">
		<div class="title">Наша свадьба</div>
		<div class="date">03.09.2022</div>
	</div>
</div>
<div class="face-programm-wrp wrapper-full">
	<div class="face-programm">
		<div class="faces-wrp">
			<div class="faces">
				<div class="person">
					<div class="photo imgLiquidFill imgLiquid">
						<img src="images/women.png">
					</div>
					<div class="name">Настя</div>
					<div class="role">Невеста</div>
					<div class="info">Цитата или небольшая история о том, как мы познакомились</div>
				</div>
				<div class="person">
					<div class="photo imgLiquidFill imgLiquid">
						<img src="images/men.png">
					</div>
					<div class="name">Костя</div>
					<div class="role">Жених</div>
					<div class="info">Цитата или небольшая история о том, как мы познакомились</div>
				</div>
			</div>
		</div>
		<div class="programm-wrp wrapper-full">
			<div class="programm" id="programm">
				<div class="title">Программа</div>
				<div class="rows-wrp">
					<div class="rows">
						<div class="row">
							<div class="date-wrp">
								<div class="date">03 сентября 2022</div>
								<div class="time">15:00</div>
							</div>
							<div class="dot">
								<div class="dot-one"></div>
							</div>
							<div class="info">
								<div class="title">Фотопрогулка</div>
								<div class="info-add">ул. Пирогова 1 (<a href="#mapblock" class="photo toplink">схема проезда</a>) </div>
							</div>
						</div>
						<div class="row">
							<div class="date-wrp">
								<div class="date">03 сентября 2022</div>
								<div class="time">16:00</div>
							</div>
							<div class="dot">
								<div class="dot-one"></div>
							</div>
							<div class="info">
								<div class="title">Сбор гостей</div>
								<div class="info-add">ул. Николаева 18, Банкетный зал "Теплица" (<a href="#mapblock" class="teplica toplink">схема проезда</a>)</div>
							</div>
						</div>
						<div class="row">
							<div class="date-wrp">
								<div class="date">03 сентября 2022</div>
								<div class="time">16:30</div>
							</div>
							<div class="dot">
								<div class="dot-one"></div>
							</div>
							<div class="info">
								<div class="title">Выездная регистрация</div>
								<div class="info-add">ул. Николаева 18, Банкетный зал "Теплица" (<a href="#mapblock" class="teplica toplink">схема проезда</a>)</div>
							</div>
						</div>
						<div class="row">
							<div class="date-wrp">
								<div class="date">03 сентября 2022</div>
								<div class="time">17:00</div>
							</div>
							<div class="dot">
								<div class="dot-one"></div>
							</div>
							<div class="info">
								<div class="title">Банкет</div>
								<div class="info-add">ул. Николаева 18, Банкетный зал "Теплица" (<a href="#mapblock" class="teplica toplink">схема проезда</a>)</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<ul id="scene" class="mouse-visual" style="position: absolute;top: 0;top: 0; padding: 0;margin: 0;">
	  <li class="layer" data-depth="0.40"><img src="images/h-layer1.png"></li>
	  <li class="layer" data-depth="0.70"><img src="images/h-layer2.png"></li>
	  <li class="layer" data-depth="1"><img src="images/h-layer3.png"></li>
	</ul>
</div>
<div class="inviting-wrp wrapper-full">
	<div class="inviting">
		<div class="letter-wrp" id="letter">
			<div class="letter">
				<div class="title">
					<span id="greeting"></span><br>
					<span id="guest_name"></span>
				</div>
				<div class="inv-text">
					<p>
						3 сентября 2022 года может пройти как обычный день <br>и не запомниться Вам ничем особенным… <br>А может стать одним из самых приятных дней не только для нас, но и для Вас!<br>
					</p>
					<p>Очень ждём Вас на нашем счастливом празднике - нашей свадьбе!</p>

					<p>
						Просим Вас сообщить о Вашем согласии или отказе до 15 августа по телефону 8 (913) 068-4879 <br>(наш организатор Татьяна) <br>
					</p>
					<p>или заполнить форму ниже</p>
				</div>
				
			</div>
			<div class="dots">
				<div class="dot dot1"></div>
				<div class="dot dot2"></div>
				<div class="dot dot3"></div>
				<div class="dot dot4"></div>
				<div class="dot dot5"></div>
			</div>
		</div>
		<div class="title">Приглашение</div>
	</div>

	<div class="questionnaire-holder">
		<form id="response-form">
		<div class="comming-intention">
			<div class="comming-intention-option">
				<label id="agree-label">Конечно, я буду!<input id="agree" type="radio" name="comming-intention" value="да"></label>
			</div>
			<div class="comming-intention-option">
				<label id="disagree-label">Я не приду<input id="disagree" type="radio" name="comming-intention" value="нет"></label>
			</div>
		</div>
	
		<input id="second-name-input" type="text" name="second-name" style="display: none;" readonly>

		<div class="questioning-custom" style="display: none;">
			<div class="info">Пожалуйста, чтобы все прошло идеально,<br> ответьте еще на несколько <span>вопросов</span></div>
				<div class="questions-form first">
					<div class="question name"> Гость <input type="text" name="guest-name-1" class="guest-name-input" readonly></div>
					<div class="questionnaire">
						<div class="question salad">
							<div class="name">Какой салат кушац будешь?</div>
							<div class="answer"><label><input type="radio" name="salad-1" class="radios-check">Салат греческий с рассольным сыром</label></div>
							<div class="answer"><label><input type="radio" name="salad-1" class="radios-check">Салат Цезарь с цыпленком</label></div>
							<div class="answer"><label><input type="radio" name="salad-1" class="radios-check">Салат Немецкий с копченой свининой</label></div>
							<div class="answer"><label><input type="radio" name="salad-1" class="radios-check">Салат Кобб с цыпленком, беконом, яйцом, грибами, томатами и огурцами</label></div>
						</div>
			
						<div class="question main-dish">
							<div class="name">Какое горячее вкусить изволите?</div>
							<div class="answer"><label><input type="radio" name="main-dish-1" class="radios-check">Стейк из семги с соусом Тар-Тар</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-1" class="radios-check">Стейк из копченой свинины с чесночным соусом</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-1" class="radios-check">Медальоны из цыпленка с соусом BBQ</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-1" class="radios-check">Стейк из индейки с соусом BBQ</label></div>
						</div>
			
						<div class="question wine-color">
							<div class="name">Цвет какого винца вам больше по душе?</div>
							<div class="answer"><label><input type="radio" name="wine_color-1" class="radios-check">Красное</label></div>
							<div class="answer"><label><input type="radio" name="wine_color-1" class="radios-check">Белое</label></div>
							<div class="answer"><label><input type="radio" name="wine_color-1" class="radios-check">Пьем все!</label></div>
						</div>
						<div class="question wine-taste">
							<div class="name">А что по сладости?</div>
							<div class="answer"><label><input type="radio" name="wine_taste-1" class="radios-check">Люблю по суше</label></div>
							<div class="answer"><label><input type="radio" name="wine_taste-1" class="radios-check">Люблю по слаще</label></div>
							<div class="answer"><label><input type="radio" name="wine_taste-1" class="radios-check">Пьем все!</label></div>
						</div>	
					</div>
					
				</div>
		
				<div id="need-plus-one" style="display: none">
					<label><input id="need-plus-one-checkbox" type="checkbox">+1</label>
				</div>
		
				<div class="questions-form second" style="display: none">
					<div class="question name"> Гость <input type="text" name="guest-name-2" class="guest-name-input" readonly></div>
					<div class="questionnaire">
						<div class="question salad">
							<div class="name">Какой салат кушац будешь?</div>
							<div class="answer"><label><input type="radio" name="salad-2" class="radios-check">Салат греческий с рассольным сыром</label></div>
							<div class="answer"><label><input type="radio" name="salad-2" class="radios-check">Салат Цезарь с цыпленком</label></div>
							<div class="answer"><label><input type="radio" name="salad-2" class="radios-check">Салат Немецкий с копченой свининой</label></div>
							<div class="answer"><label><input type="radio" name="salad-2" class="radios-check">Салат Кобб с цыпленком, беконом, яйцом, грибами, томатами и огурцами</label></div>
						</div>
			
						<div class="question main-dish">
							<div class="name">Какое горячее вкусить изволите?</div>
							<div class="answer"><label><input type="radio" name="main-dish-2" class="radios-check">Стейк из семги с соусом Тар-Тар</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-2" class="radios-check">Стейк из копченой свинины с чесночным соусом</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-2" class="radios-check">Медальоны из цыпленка с соусом BBQ</label></div>
							<div class="answer"><label><input type="radio" name="main-dish-2" class="radios-check">Стейк из индейки с соусом BBQ</label></div>
						</div>
			
						<div class="question wine-color">
							<div class="name">Цвет какого винца вам больше по душе?</div>
							<div class="answer"><label><input type="radio" name="wine_color-2" class="radios-check">Красное</label></div>
							<div class="answer"><label><input type="radio" name="wine_color-2" class="radios-check">Белое</label></div>
							<div class="answer"><label><input type="radio" name="wine_color-2" class="radios-check">Пьем все!</label></div>
						</div>
						<div class="question wine-taste">
							<div class="name">А что по сладости?</div>
							<div class="answer"><label><input type="radio" name="wine_taste-2" class="radios-check">Люблю по суше</label></div>
							<div class="answer"><label><input type="radio" name="wine_taste-2" class="radios-check">Люблю по слаще</label></div>
							<div class="answer"><label><input type="radio" name="wine_taste-2" class="radios-check">Пьем все!</label></div>
						</div>	
					</div>
					
				</div>
		
		</div>
	
		<div class="submit-questionnarie" style="display: none;">
			<input type="submit" value="Подтвердить">
		</div>
		</form>
	</div>
</div>
<div class="photogallery-wrp wrapper-full">
	<div class="photogallery" id="photo">
		<div class="title wrapper-800">Фотогалерея</div>
		<div class="slider-buttons">
			<div class="prev"></div>
			<div class="next"></div>
		</div>
		<div class="my-flipster">
		  <ul>
		    <li><img class="photo" src="images/slider1.png"></li>
		    <li><img class="photo" src="images/slider2.png"></li>
		    <li><img class="photo" src="images/slider3.png"></li>
		    <li><img class="photo" src="images/slider4.png"></li>
		    <li><img class="photo" src="images/slider5.png"></li>
		  </ul>
		</div>
	</div>
</div>

<div class="map-wrp wrapper-full">
	<div class="map wrapper-800" id="mapblock">
		<div class="title">Как добраться</div>
		<div id="map"></div>
		<div class="info">Если остались вопросы, звоните: 8 (913) 068-4879 (Татьяна)</div>
	</div>
	<ul id="scene1" class="mouse-visual" style="position: absolute;top: 0;top: 0; padding: 0;margin: 0;">
	  <li class="layer" data-depth="0.40"><img src="images/i-layer1.png"></li>
	  <li class="layer" data-depth="0.70"><img src="images/i-layer2.png"></li>
	  <li class="layer" data-depth="1"><img src="images/i-layer3.png"></li>
	</ul>
</div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="js/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
	<script src="js/jquery.formstyler.min.js"></script>
	<script src="js/imgLiquid-min.js"></script>

	<script type="text/javascript" src="js/2gis.js"></script>
	<!--script type="text/javascript" src="//maps.api.2gis.ru/1.0"></script-->
	<script src="//maps.api.2gis.ru/2.0/loader.js?pkg=full"></script>


	<script type="text/javascript" src="js/smooth-scroll.js"></script>
	<script src="js/jquery.countdown.js"></script>
	<script src="js/parallax-dots.js"></script>
	<script src="js/jquery.stellar.min.js"></script>
	<script src="js/modernizr.min.js"></script>
	<script src="js/classie.js"></script>
	<script src="js/jquery.flipster.min.js"></script>
	<!-- bxSlider Javascript file -->
	<script src="js/jquery.bxslider.min.js"></script>
	<!-- bxSlider CSS file -->
	<link href="css/jquery.bxslider.css" rel="stylesheet">
	<link href="css/component.css" rel="stylesheet">
	<link href="css/normalize.css" rel="stylesheet">
	<link rel="stylesheet" href="css/jquery.flipster.min.css">

	<script type="text/javascript">

		jQuery(document).ready(function($) {
			jQuery.stellar({
				horizontalScrolling: false,
				scrollProperty: 'scroll',
				positionProperty: 'position',
			});
			$(".imgLiquidFill").imgLiquid();

			$(".answer input:radio").styler();
			$(".comming-intention-option input:radio").styler();

			Array.from($(".answer input:radio")).forEach(element => {
				element.value = element.closest('label').textContent;
			});

			$('.comming-intention input:radio').change(function() {
			  $(".submit-questionnarie")[0].style = "display: flex";

			  if ($(this).is(':checked')) {
			  	$('.comming-intention input:radio').closest('label').removeClass("checked");
			    $(this).closest('label').addClass('checked');

				if ($(this).is("#agree")) {
					$('.questioning-custom')[0].style = "display: grid;"
				} else {
					$('.questioning-custom')[0].style = "display: none;"
				}
			  }
			});
			
			$('.answer input:radio').change(function() {
			  if ($(this).is(':checked')) {
				$(`.answer input:radio[name=${this.name}]`).closest('label').removeClass("checked");
			    $(this).closest('label').addClass('checked');
			  }
			});

			$("#need-plus-one").change(function() {
				if($("#need-plus-one label input").is(":checked")) {
					$(".questions-form.second")[0].style = "display: grid"
				} else {
					$(".questions-form.second")[0].style = "display: none"	
				}
			})

			var myFlipster = $('.my-flipster').flipster({style:"carousel",loop: true, scrollwheel:false});
			$(".slider-buttons .prev").click(function(event) {
				/* Act on the event */
				myFlipster.flipster('prev');
			});
			$(".slider-buttons .next").click(function(event) {
				/* Act on the event */
				myFlipster.flipster('next');
			});

			  DG.then(function () {
				map = DG.map('map', {
                     center: [54.857850,83.112557],
                     zoom: 16,
                     scrollWheelZoom: false
                 });
	         	mapCenter = map.getCenter();
	         	var myIcon = DG.icon({
				    iconUrl: 'images/map-marker.png',
				    iconRetinaUrl: 'images/map-marker.png',
				    iconSize: [39, 60],
				    iconAnchor: [20, 55],
				    popupAnchor: [0, 0],
				    // shadowUrl: '',
				    // shadowRetinaUrl: '',
				    // shadowSize: [68, 95],
				    // shadowAnchor: [22, 94]
				});

             		DG.marker([54.857850,83.112557], {icon: myIcon}).addTo(map).bindPopup("Банкетный зал<br /> <p style=\"text-align:center;\">ТЕПЛИЦА</p>");
            	 	DG.marker([54.842867,83.091723], {icon: myIcon}).addTo(map).bindPopup("<p style=\"text-align:center;\">Фотоплощадка</p> <p style=\"text-align:center;\">НГУ</p>");
    			$(".zags").click(function(event) {
                	 	map.panTo([54.842867,83.091723]);
				 });
				 $(".rest").click(function(event) {
                	 	map.panTo([54.857850,83.112557]);
				 });
            });

			var scene = document.getElementById('scene');
			var parallax = new Parallax(scene);
			var scene1 = document.getElementById('scene1');
			var parallax = new Parallax(scene1);

			$("a.toplink").click(function() {
		      $("html, body").animate({
		         scrollTop: $($(this).attr("href")).offset().top + "px"
		      }, {
		         duration: 500,
		         easing: "swing"
		      });
		      return false;
		   });

			$('#response-form').submit(function(e) {
				//prevent the form from submiting so we can post to the google form
				e.preventDefault();

				var firstName = $(".questions-form.first .guest-name-input")[0].value;
				var secondName = $(".questions-form.second .guest-name-input")[0].value;
				if ($("#need-plus-one-checkbox")[0].checked && !secondName){
					alert("Пожалуйста, укажите имя второго гостя");
					return;
				}				

				var agree = "не указано";
				var food = "вкусное что-нибудь";

				if ($('#agree')[0].checked) {
					agree = "да";
				}
				else if ($('#disagree')[0].checked) {
					agree = "нет";
				}

				var inputsMapping = {
					"second-name": "entry.2072880449",
					"comming-intention": "entry.1597264985",
					"guest-name-1": "entry.717844149",
					"main-dish-1": "entry.135459113",
					"salad-1": "entry.1597468061",
					"wine_color-1": "entry.552650516",
					"wine_taste-1": "entry.965970282",
					"guest-name-2": "entry.1250140578",
					"main-dish-2": "entry.530243344",
					"salad-2": "entry.1460130690",
					"wine_color-2": "entry.1937015556",
					"wine_taste-2": "entry.41400637",
				};

				var parameters = [];
				const formData = new FormData($('#response-form')[0])
				for (var pair of formData.entries()) {
					parameters.push(`${inputsMapping[pair[0]]}=${pair[1]}`);
				}

console.log(parameters.join("&"));

				$.ajax({
					url: `https://docs.google.com/forms/d/e/1FAIpQLSerqAotjN9abitkmGSRQMMruUxyYrvaLahprkAg0lz5ovuG-Q/formResponse?${parameters.join("&")}`,     //The public Google Form url, but replace /view with /formResponse
					type: 'POST',
					dataType: "json",
					statusCode: {
						0: function(data) {
							alert('Результат отправлен!');
						},
						200: function(data) {
							alert('Результат отправлен!');
						},
						403: function(data) {//403 is when something went wrong and the submission didn't go through
							//error
							alert('О нет, что-то пошло не так! Мы не смогли записать ваш ответ, свяжитесь с нами по телефону');
						}
					}  
				});
			});
		});


		var guestsData = {
			"1": {
				greeting: "Дорогие наши",
				guestName1: "Мама",
				guestName2: "Папа",
				idName: "Леоновы"
			},
			"2": {
				greeting: "Дорогие наши",
				guestName1: "Мама",
				guestName2: "Папа",
				idName: "Салтуки"
			},
			"3": {
				greeting: "Дорогая",
				guestName1: "Бабушка",
				idName: "Зверева",
				knownSingle: true
			},
			"4": {
				greeting: "Дорогая",
				guestName1: "Бабушка",
				idName: "Салтук",
				knownSingle: true
			},
			"5": {
				greeting: "Дорогой",
				guestName1: "Дедушка",
				idName: "Бохан",
				knownSingle: true
			},
			"6": {
				greeting: "Привет",
				guestName1: "Андрей!",
				idName: "Макалев"
			},
			"default": {
				greeting: "Привет",
				guestName1: "Таинственный Незнакомец",
				idName: ""
			},
		}


		var url_string = window.location.href;
		var url = new URL(url_string);
		var id = url.searchParams.get("id");

		var guestData = guestsData[id];

		if (!guestData) {
			guestData = guestsData["default"];
		}

		var greetingElement = document.getElementById("greeting");
		var guestNameElement = document.getElementById("guest_name");
		greetingElement.innerHTML = guestData.greeting;
		guestNameElement.innerHTML = [guestData.guestName1, guestData.guestName2].filter(x => x).join(' и ');

		$(".questions-form.first .guest-name-input")[0].value = guestData.guestName1;
		$("#second-name-input")[0].value = guestData.idName;

		if (guestData.guestName2){
			$(".questions-form.second")[0].style = "display: grid";
			$(".questions-form.second .guest-name-input")[0].value = guestData.guestName2;

			$(".agree-label")[0].innerHTML = "Конечно, мы будем!";
			$(".disagree-label")[0].innerHTML = "Мы не придем";
		}
		else if (!guestData.knownSingle){
			$("#need-plus-one")[0].style = "display: block";
			$(".questions-form.second .guest-name-input")[0].removeAttribute("readonly");
		}

	</script>

</body></html>